asyncapi: 2.0.0
info:
  title: My API
  version: '1.0.0'
channels:
  /:
    publish:    
      message:
        $ref: '#/components/messages/testMessage'
components:
  messages:
    testMessage:
      payload:
        $ref: '#/components/schemas/testMessagePayload'
  schemas:
    testMessagePayload:
      type: object
      properties:
        message:
          # $ref: '3commas_openapidoc.yml#/components/schemas/testSchema1'
          oneOf:
            - $ref: 3commas_openapidoc.yml#/components/schemas/DealEntity
            - $ref: 3commas_openapidoc.yml#/components/schemas/SmartTradeV2Entity
    # testSchema1:
    #   type: object
    #   properties:
    #     prop1:
    #       type: string
    # testSchema2:
    #   type: object
    #   properties:
    #     prop2:
    #       type: string